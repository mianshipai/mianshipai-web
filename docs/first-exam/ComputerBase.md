# 计算机基础

计算机基础在校招中考核较为常见，尤其是大厂，不可忽视

## 进程和线程的区别

参考答案

::: details

**进程**是操作系统中一个正在运行的程序，每个进程都有自己的地址空间、内存、文件描述符等资源。

**线程**是进程中的一个执行单元，是 cpu 调度的最小单元，共享进程的资源，但有自己的独立执行流。

二者的区别

- 进程拥有独立的堆栈空间和数据段，需要分配独立的地址空间，开销大
- 线程开销小，切换快，没进程安全，从通信机制上看，线程可以共享数据段

> 以浏览器举个例子，一个 tab 就是一个进程，进程中某个线程崩了，整个进程就会崩，但是这不会影响其他的进程，因此进程之间相对独立

:::

## 进程间的通信

参考答案

::: details

进程间通信（Inter-Process Communication，IPC）是指在操作系统中，不同进程之间交换信息和数据的过程，常见的进程通信方式包括：

- 管道：用于单向或双向通信
- 消息队列：允许进程通过信息传递进行通信
- 共享内存：多个进程可以访问同一块内存区域
- 信号量：用于进程间的同步
- 套接字：用于网络通信

线程间通信与进程间通信类似，但由于线程之间共享进程的资源，线程间通信通常比进程间通信更高效

:::

## 单核 CPU 如何实现并发

参考答案

::: details

单核CPU 主要是通过时间片轮转和上下文切换来实现并发

时间片轮转

- CPU将时间划分为很小的时间片，通常是几十毫秒
- 每个进程、线程分配到一个时间片
- CPU轮流执行每个进程、线程的时间片
- 当一个时间片用完，CPU就会切换到下一个进程、线程

上下文切换

- 在切换进程、线程时，CPU需要保存当前进程的状态（下上文），包括
  - 程序计数器的值
  - 寄存器的值
  - 内存映射信息
- 加载下一个要执行的进程、线程的上下文

> 在任意时刻，CPU执行执行一个任务，由于切换速度非常快，给用户的感觉就像是在同时运行多个程序，所以这种机制被称为“伪并发”，若线程过多也不好，频繁的上下文切换会带来一定的性能开销，所以过多的线程反而会带来性能下降的问题

:::

## linux 如何查找你的进程占用的那个端口

参考答案

::: details

使用 netstat 命令

```bash
# 查看所有端口占用情况
netstat -tunlp
# 查看特定端口，比如 8080
netstat -tunlp | grep 8080
```

- t - tcp 协议；u - udp 协议；n - 显示端口号；l - 仅显示监听端口；p - 显示进程信息

使用 lsof 命令

```bash
# 查看特定端口，比如 8080
lsof -i :8080
```

- i - 显示网络连接

:::

## 单核服务器连接数超载了怎么办

参考答案

::: details

- 优化代码和查询

  确保应用程序代码和数据库查询是高效的，以减少每个连接的资源消耗

- 使用负载均衡

  将流量分配到多个服务器上，以分散负载

- 增加连接池

  使用连接池来管理数据库连接，减少连接的创建和销毁开销

- 限制连接数

  配置服务器以限制每个客户端的最大连接数，以防止单个客户端占用过多资源

- 使用缓存

  利用缓存机制（如 Redis，Memcached）来减少对数据库的访问次数

:::
